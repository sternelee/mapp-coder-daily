(wx.webpackJsonp=wx.webpackJsonp||[]).push([[9],{"13":function(t,e,n){t.exports=n.p+"pages/post/index.wxml"},"27":function(t,e,n){"use strict";n.r(e);n(28);var o=n(8);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r)},"28":function(t,e,n){"use strict";n(13)},"29":function(t,e,n){},"3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{"value":!0});var u=_interopRequireDefault(n(11)),f=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var n=[],o=!0,r=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(o=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);o=!0);}catch(t){r=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t};function defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r,a,d=n(0),s=_interopRequireDefault(d),c=n(12);function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _asyncToGenerator(t){return function(){var i=t.apply(this,arguments);return new Promise(function(r,a){return function step(t,e){try{var n=i[t](e),o=n.value}catch(t){return void a(t)}if(!n.done)return Promise.resolve(o).then(function(t){step("next",t)},function(t){step("throw",t)});r(o)}("next")})}}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}n(29);var i,l=(function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Index,d.Component),o(Index,[{"key":"_constructor","value":function _constructor(){(function get(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:get(r,e,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"_constructor",this).apply(this,arguments),this.state={"md":"","title":"","top":0,"url":"","img":""},this.$$refs=new s.default.RefsArray}},{"key":"onShareAppMessage","value":function onShareAppMessage(t){var e=this.$router.params,n=this.state.title;return"button"===t.from&&console.log(t.target),{"title":""+n,"path":"pages/post/index?id="+e.id,"success":function success(t){console.log("转发成功:"+JSON.stringify(t))},"fail":function fail(t){console.log("转发失败:"+JSON.stringify(t))}}}},{"key":"componentWillMount","value":function componentWillMount(){var t=s.default.getMenuButtonBoundingClientRect();this.setState({"top":t.top+2})}},{"key":"componentDidShow","value":(i=_asyncToGenerator(u.default.mark(function _callee(){var e,n,o,r,a,i=this;return u.default.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$router.params,s.default.showLoading({"title":"Loading ..."}),t.next=4,s.default.request({"url":"https://api.leeapps.cn/cooperpress-posts?category=100&pid="+e.id+"&_limit=1"});case 4:if(n=t.sent,o=n.data[0]){t.next=11;break}return t.next=9,s.default.request({"url":"https://api.leeapps.cn/koa/weekly/post?category=100&id="+e.id+"&type=markdown"});case 9:r=t.sent,o=r.data[0];case 11:if(s.default.hideLoading(),o.content){t.next=15;break}return s.default.showToast({"title":"无法拉取数据","duration":1e3}).then(function(){s.default.setClipboardData({"data":o.url,"success":function success(){s.default.showToast({"title":"原文链接已复制","duration":1e3}).then(function(){return i.onHome()})}})}),t.abrupt("return");case 15:a=(0,c.fixUrl)(o.content,o.url),this.setState({"title":o.title,"url":o.url,"img":o.lead_image_url,"md":a});case 17:case"end":return t.stop()}},_callee,this)})),function componentDidShow(){return i.apply(this,arguments)})},{"key":"_createData","value":function _createData(t,e,n){this.__state=t||this.state||{},this.__props=e||this.props||{};var o=this.$prefix,r=(0,d.genCompid)(o+"$compid__4"),a=f(r,2),i=a[0],u=a[1],s=this.__state,c=(s.md,s.title,s.top),l=(s.img,(0,d.internal_inline_style)({"padding":c+"px 0 0 10px","height":"35px"})),p=(0,d.internal_inline_style)({"padding":"10px"});return d.propsManager.set({"name":"home","size":50,"color":"#000"},u,i),Object.assign(this.__state,{"anonymousState__temp":l,"anonymousState__temp2":p,"$compid__4":u}),this.__state}}]),a=r=Index,r.$$events=["onHome","onCopyUrl"],r.$$componentPath="pages/post/index",a);function Index(){var t,e,n;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Index);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=n=_possibleConstructorReturn(this,(t=Index.__proto__||Object.getPrototypeOf(Index)).call.apply(t,[this].concat(r)))).$usedState=["anonymousState__temp","anonymousState__temp2","$compid__4","img","md","title","top","url"],n.config={"navigationBarTitleText":"详情页","navigationStyle":"custom","usingComponents":{"wemark":"../../wemark/wemark"}},n.onHome=function(){1<s.default.getCurrentPages().length?s.default.navigateBack():s.default.navigateTo({"url":"/pages/index/index"})},n.onCopyUrl=function(){var t=n.state.url;s.default.setClipboardData({"data":t,"success":function success(){s.default.showToast({"title":"原文链接已复制","duration":1e3})}})},n.customComponents=["IconFont"],_possibleConstructorReturn(n,e)}e.default=l,Component(n(0).default.createComponent(l,!0))},"8":function(t,e,n){"use strict";n.r(e);var o=n(3),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e.default=r.a}},[[27,0,1,2]]]);